var __extends=this.__extends||function(u,k){function p(){this.constructor=u}p.prototype=k.prototype;u.prototype=new p};
define(["require","exports"],function(u,k){var p=function(){function a(){this._listeners=[]}a.prototype.hasEventListener=function(b,a){for(var d=!1,f=0;f<this._listeners.length;f++)this._listeners[f].type===b&&this._listeners[f].listener===a&&(d=!0);return d};a.prototype.addEventListener=function(b,a){this.hasEventListener(b,a)||this._listeners.push({type:b,listener:a})};a.prototype.removeEventListener=function(b,a){for(var d=0;d<this._listeners.length;d++)this._listeners[d].type===b&&this._listeners[d].listener===
a&&this._listeners.splice(d,1)};a.prototype.dispatchEvent=function(b){for(var a=0;a<this._listeners.length;a++)this._listeners[a].type===b.getType()&&this._listeners[a].listener.call(this,b)};return a}();k.EventDispatcher=p;var y=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype.DefaultListener=function(){};b.prototype.onConnect=function(b){b.dispatchEvent(new m(m.LEAPMOTION_CONNECTED,this))};b.prototype.onDisconnect=function(b){b.dispatchEvent(new m(m.LEAPMOTION_DISCONNECTED,
this))};b.prototype.onExit=function(b){b.dispatchEvent(new m(m.LEAPMOTION_EXIT,this))};b.prototype.onFrame=function(b,a){b.dispatchEvent(new m(m.LEAPMOTION_FRAME,this,a))};b.prototype.onInit=function(b){b.dispatchEvent(new m(m.LEAPMOTION_INIT,this))};return b}(p);k.DefaultListener=y;var m=function(){function a(b,a,d){"undefined"===typeof d&&(d=null);this._type=b;this._target=a;this.frame=d}a.LEAPMOTION_INIT="leapMotionInit";a.LEAPMOTION_CONNECTED="leapMotionConnected";a.LEAPMOTION_DISCONNECTED="leapMotionDisconnected";
a.LEAPMOTION_EXIT="leapMotionExit";a.LEAPMOTION_FRAME="leapMotionFrame";a.prototype.getTarget=function(){return this._target};a.prototype.getType=function(){return this._type};return a}();k.LeapEvent=m;var C=function(){function a(){}a.PI=3.1415926536;a.DEG_TO_RAD=0.0174532925;a.RAD_TO_DEG=57.295779513;a.TWO_PI=Math.PI+Math.PI;a.HALF_PI=0.5*Math.PI;a.EPSILON=1E-5;a.prototype.LeapUtil=function(){};a.toDegrees=function(b){return 180*b/Math.PI};a.isNearZero=function(b){return Math.abs(b)<=a.EPSILON};
a.vectorIsNearZero=function(b){return this.isNearZero(b.x)&&this.isNearZero(b.y)&&this.isNearZero(b.z)};a.extractRotation=function(b){return new r(b.xBasis,b.yBasis,b.zBasis)};a.rotationInverse=function(b){return new r(new e(b.xBasis.x,b.yBasis.x,b.zBasis.x),new e(b.xBasis.y,b.yBasis.y,b.zBasis.y),new e(b.xBasis.z,b.yBasis.z,b.zBasis.z))};a.rigidInverse=function(b){var a=this.rotationInverse(b);a.origin=a.transformDirection(b.origin.opposite());return a};a.componentWiseMin=function(b,a){return new e(Math.min(b.x,
a.x),Math.min(b.y,a.y),Math.min(b.z,a.z))};a.componentWiseMax=function(b,a){return new e(Math.max(b.x,a.x),Math.max(b.y,a.y),Math.max(b.z,a.z))};a.componentWiseScale=function(b,a){return new e(b.x*a.x,b.y*a.y,b.z*a.z)};a.componentWiseReciprocal=function(b){return new e(1/b.x,1/b.y,1/b.z)};a.minComponent=function(b){return Math.min(b.x,Math.min(b.y,b.z))};a.maxComponent=function(b){return Math.max(b.x,Math.max(b.y,b.z))};a.heading=function(b){return Math.atan2(b.z,b.x)};a.elevation=function(b){return Math.atan2(b.y,
Math.sqrt(b.z*b.z+b.x*b.x))};a.normalizeSpherical=function(b){var h=b.y;for(b=b.z;b<=-Math.PI;)b+=a.TWO_PI;for(;b>Math.PI;)b-=a.TWO_PI;Math.abs(b)>a.HALF_PI&&(h+=Math.PI,b=0<b?Math.PI-b:-(Math.PI+b));for(;h<=-Math.PI;)h+=a.TWO_PI;for(;h>Math.PI;)h-=a.TWO_PI;return new e(1,h,b)};a.cartesianToSpherical=function(b){return new e(b.magnitude(),this.heading(b),this.elevation(b))};a.sphericalToCartesian=function(b){var a=b.x,d=Math.cos(b.y),f=Math.sin(b.y),c=Math.cos(b.z);b=Math.sin(b.z);return new e(d*
c*a,b*a,f*c*a)};a.clamp=function(b,a,d){return b<a?a:b>d?d:b};a.lerp=function(b,a,d){return b+(a-b)*d};a.lerpVector=function(b,a,d){return b.plus(a.minus(b).multiply(d))};return a}();k.LeapUtil=C;p=function(a){function b(h){"undefined"===typeof h&&(h=null);var d=this;a.call(this);this.frameHistory=[];this.listener=new y;this.connection=h?new WebSocket("ws://"+h+":6437"):new WebSocket("ws://localhost:6437");this.listener.onInit(this);this.connection.onopen=function(b){d.listener.onConnect(d)};this.connection.onclose=
function(b){d.listener.onDisconnect(d)};this.connection.onmessage=function(a){var c,h,g,k,m;c=JSON.parse(a.data);if("undefined"!==typeof c.timestamp){h=new v;h.controller=d;if("undefined"!==typeof c.hands){m=c.hands.length;for(a=0;a<m;++a)g=new w,g.frame=h,g.direction=new e(c.hands[a].direction[0],c.hands[a].direction[1],c.hands[a].direction[2]),g.id=c.hands[a].id,g.palmNormal=new e(c.hands[a].palmNormal[0],c.hands[a].palmNormal[1],c.hands[a].palmNormal[2]),g.palmPosition=new e(c.hands[a].palmPosition[0],
c.hands[a].palmPosition[1],c.hands[a].palmPosition[2]),g.palmVelocity=new e(c.hands[a].palmPosition[0],c.hands[a].palmPosition[1],c.hands[a].palmPosition[2]),g.rotation=new r(new e(c.hands[a].r[0][0],c.hands[a].r[0][1],c.hands[a].r[0][2]),new e(c.hands[a].r[1][0],c.hands[a].r[1][1],c.hands[a].r[1][2]),new e(c.hands[a].r[2][0],c.hands[a].r[2][1],c.hands[a].r[2][2])),g.scaleFactorNumber=c.hands[a].s,g.sphereCenter=new e(c.hands[a].sphereCenter[0],c.hands[a].sphereCenter[1],c.hands[a].sphereCenter[2]),
g.sphereRadius=c.hands[a].sphereRadius,g.translationVector=new e(c.hands[a].t[0],c.hands[a].t[1],c.hands[a].t[2]),h.hands.push(g)}h.id=c.id;if("undefined"!==typeof c.pointables){m=c.pointables.length;for(a=0;a<m;++a)g=(k=c.pointables[a].tool)?new s:new t,g.frame=h,g.id=c.pointables[a].id,g.hand=b.getHandByID(h,c.pointables[a].handId),g.length=c.pointables[a].length,g.direction=new e(c.pointables[a].direction[0],c.pointables[a].direction[1],c.pointables[a].direction[2]),g.tipPosition=new e(c.pointables[a].tipPosition[0],
c.pointables[a].tipPosition[1],c.pointables[a].tipPosition[2]),g.tipVelocity=new e(c.pointables[a].tipVelocity[0],c.pointables[a].tipVelocity[1],c.pointables[a].tipVelocity[2]),h.pointables.push(g),g.hand&&g.hand.pointables.push(g),k?(g.isTool=!0,g.isFinger=!1,g.width=c.pointables[a].width,h.tools.push(g),g.hand&&g.hand.tools.push(g)):(g.isTool=!1,g.isFinger=!0,h.fingers.push(g),g.hand&&g.hand.fingers.push(g))}if("undefined"!==typeof c.gestures){m=c.gestures.length;for(a=0;a<m;++a){switch(c.gestures[a].type){case "circle":g=
new x;k=n.TYPE_CIRCLE;var l=g;l.center=new e(c.gestures[a].center[0],c.gestures[a].center[1],c.gestures[a].center[2]);l.normal=new e(c.gestures[a].normal[0],c.gestures[a].normal[1],c.gestures[a].normal[2]);l.progress=c.gestures[a].progress;l.radius=c.gestures[a].radius;break;case "swipe":g=new z;k=n.TYPE_SWIPE;l=g;l.startPosition=new e(c.gestures[a].startPosition[0],c.gestures[a].startPosition[1],c.gestures[a].startPosition[2]);l.position=new e(c.gestures[a].position[0],c.gestures[a].position[1],
c.gestures[a].position[2]);l.direction=new e(c.gestures[a].direction[0],c.gestures[a].direction[1],c.gestures[a].direction[2]);l.speed=c.gestures[a].speed;break;case "screenTap":g=new A;k=n.TYPE_SCREEN_TAP;l=g;l.position=new e(c.gestures[a].position[0],c.gestures[a].position[1],c.gestures[a].position[2]);l.direction=new e(c.gestures[a].direction[0],c.gestures[a].direction[1],c.gestures[a].direction[2]);l.progress=c.gestures[a].progress;break;case "keyTap":g=new B;k=n.TYPE_KEY_TAP;l=g;l.position=new e(c.gestures[a].position[0],
c.gestures[a].position[1],c.gestures[a].position[2]);l.direction=new e(c.gestures[a].direction[0],c.gestures[a].direction[1],c.gestures[a].direction[2]);l.progress=c.gestures[a].progress;break;default:throw Error("unkown gesture type");}var p=l=0;if("undefined"!==typeof c.gestures[a].handIds){p=c.gestures[a].handIds.length;for(l=0;l<p;++l){var q=b.getHandByID(h,c.gestures[a].handIds[l]);g.hands.push(q)}}if("undefined"!==typeof c.gestures[a].pointableIds){p=c.gestures[a].pointableIds.length;for(l=
0;l<p;++l)(q=b.getPointableByID(h,c.gestures[a].pointableIds[l]))&&g.pointables.push(q);g instanceof x&&0<g.pointables.length&&(g.pointable=g.pointables[0])}g.frame=h;g.id=c.gestures[a].id;g.duration=c.gestures[a].duration;g.durationSeconds=g.duration/1E6;switch(c.gestures[a].state){case "start":g.state=n.STATE_START;break;case "update":g.state=n.STATE_UPDATE;break;case "stop":g.state=n.STATE_STOP;break;default:g.state=n.STATE_INVALID}g.type=k;h._gestures.push(g)}}c.r&&(h.rotation=new r(new e(c.r[0][0],
c.r[0][1],c.r[0][2]),new e(c.r[1][0],c.r[1][1],c.r[1][2]),new e(c.r[2][0],c.r[2][1],c.r[2][2])));h.scaleFactorNumber=c.s;c.t&&(h.translationVector=new e(c.t[0],c.t[1],c.t[2]));h.timestamp=c.timestamp;59<d.frameHistory.length&&d.frameHistory.splice(59,1);d.frameHistory.unshift(d.latestFrame);d.latestFrame=h;d.listener.onFrame(d,d.latestFrame)}}}__extends(b,a);b.POLICY_DEFAULT=0;b.POLICY_BACKGROUND_FRAMES=1;b.getHandByID=function(b,a){for(var f=null,c=0,c=0;c<b.hands.length;++c)if(b.hands[c].id===a){f=
b.hands[c];break}return f};b.getPointableByID=function(b,a){for(var f=null,c=0,c=0;c<b.pointables.length;++c)if(b.pointables[c].id===a){f=b.pointables[c];break}return f};b.prototype.frame=function(b){"undefined"===typeof b&&(b=0);return b>=this.frameHistory.length?v.invalid():this.frameHistory[b]};b.prototype.setListener=function(b){this.listener=b};return b}(p);k.Controller=p;var q=function(){function a(){this.width=this.length=0;this.direction=e.invalid();this.tipPosition=e.invalid();this.tipVelocity=
e.invalid()}a.prototype.isValid=function(){var b=!1;this.direction&&this.direction.isValid()&&(this.tipPosition&&this.tipPosition.isValid()&&this.tipVelocity&&this.tipVelocity.isValid())&&(b=!0);return b};a.prototype.isEqualTo=function(b){return!this.isValid()||!b.isValid()||this.frame!=b.frame||this.hand!=b.hand||!this.direction.isEqualTo(b.direction)||this.length!=b.length||this.width!=b.width||this.id!=b.id||!this.tipPosition.isEqualTo(b.tipPosition)||!this.tipVelocity.isEqualTo(b.tipVelocity)||
this.isFinger!=b.isFinger||this.isTool!=b.isTool?!1:!0};a.invalid=function(){return new a};a.prototype.toString=function(){return"[Pointable direction: "+this.direction+" tipPosition: "+this.tipPosition+" tipVelocity: "+this.tipVelocity+"]"};return a}();k.Pointable=q;var n=function(){function a(){this.hands=[];this.pointables=[]}a.STATE_INVALID=0;a.STATE_START=1;a.STATE_UPDATE=2;a.STATE_STOP=3;a.TYPE_INVALID=4;a.TYPE_SWIPE=5;a.TYPE_CIRCLE=6;a.TYPE_SCREEN_TAP=7;a.TYPE_KEY_TAP=8;a.prototype.isEqualTo=
function(b){return this.id==b.id};a.prototype.isValid=function(){return!this.durationSeconds?!1:!0};a.invalid=function(){return new a};a.prototype.toString=function(){return"[Gesture id:"+this.id+" duration:"+this.duration+" type:"+this.type+"]"};return a}();k.Gesture=n;var t=function(a){function b(){a.call(this);this.isFinger=!0;this.isTool=!1}__extends(b,a);b.invalid=function(){return new b};return b}(q);k.Finger=t;var s=function(a){function b(){a.call(this);this.isFinger=!1;this.isTool=!0}__extends(b,
a);b.invalid=function(){return new b};return b}(q);k.Tool=s;var w=function(){function a(){this.fingers=[];this.pointables=[];this.tools=[]}a.prototype.isValid=function(){return this.direction&&this.direction.isValid()&&this.palmNormal&&this.palmNormal.isValid()&&this.palmPosition&&this.palmPosition.isValid()&&this.palmVelocity&&this.palmVelocity.isValid()&&this.sphereCenter&&this.sphereCenter.isValid()?!0:!1};a.prototype.isEqualTo=function(b){return this.id===b.id&&this.frame===b.frame&&this.isValid()&&
b.isValid()?!0:!1};a.prototype.finger=function(b){for(var a=t.invalid(),d=this.fingers.length,f=0;f<d;++f)if(this.fingers[f].id===b){a=this.fingers[f];break}return a};a.prototype.tool=function(b){for(var a=s.invalid(),d=this.fingers.length,f=0;f<d;++f)if(this.tools[f].id===b){a=this.tools[f];break}return a};a.prototype.pointable=function(b){for(var a=q.invalid(),d=this.pointables.length,f=0;f<d;++f)if(this.pointables[f].id===b){a=this.pointables[f];break}return a};a.prototype.rotationAxis=function(b){return b.hand(this.id)?
(new e(this.rotation.zBasis.y-b.hand(this.id).rotation.yBasis.z,this.rotation.xBasis.z-b.hand(this.id).rotation.zBasis.x,this.rotation.yBasis.x-b.hand(this.id).rotation.xBasis.y)).normalized():new e(0,0,0)};a.prototype.rotationAngle=function(b,a){"undefined"===typeof a&&(a=null);if(!this.isValid()||!b.hand(this.id).isValid())return 0;var d=0,d=this.rotationMatrix(b),d=Math.acos(0.5*(d.xBasis.x+d.yBasis.y+d.zBasis.z-1)),d=isNaN(d)?0:d;if(a)var f=this.rotationAxis(b.hand(this.id).frame),d=d*f.dot(a.normalized());
return d};a.prototype.rotationMatrix=function(b){return b.hand(this.id).isValid()?b.hand(this.id).rotation.multiply(new r(new e(this.rotation.xBasis.x,this.rotation.yBasis.x,this.rotation.zBasis.x),new e(this.rotation.xBasis.y,this.rotation.yBasis.y,this.rotation.zBasis.y),new e(this.rotation.xBasis.z,this.rotation.yBasis.z,this.rotation.zBasis.z))):r.identity()};a.prototype.scaleFactor=function(b){return b&&b.hand(this.id)&&b.hand(this.id).scaleFactorNumber?Math.exp(this.scaleFactorNumber-b.hand(this.id).scaleFactorNumber):
1};a.prototype.translation=function(b){return b.hand(this.id)&&b.hand(this.id).translationVector?new e(this.translationVector.x-b.hand(this.id).translationVector.x,this.translationVector.y-b.hand(this.id).translationVector.y,this.translationVector.z-b.hand(this.id).translationVector.z):new e(0,0,0)};a.invalid=function(){return new a};return a}();k.Hand=w;var v=function(){function a(){this.fingers=[];this.hands=[];this.pointables=[];this._gestures=[];this.tools=[]}a.prototype.hand=function(b){for(var a=
w.invalid(),d=this.hands.length,f=0;f<d;++f)if(this.hands[f].id===b){a=this.hands[f];break}return a};a.prototype.finger=function(b){for(var a=t.invalid(),d=this.fingers.length,f=0;f<d;++f)if(this.fingers[f].id===b){a=this.fingers[f];break}return a};a.prototype.tool=function(b){for(var a=s.invalid(),d=this.fingers.length,f=0;f<d;++f)if(this.tools[f].id===b){a=this.tools[f];break}return a};a.prototype.pointable=function(b){for(var a=q.invalid(),d=this.pointables.length,f=0;f<d;++f)if(this.pointables[f].id===
b){a=this.pointables[f];break}return a};a.prototype.gesture=function(b){for(var a=n.invalid(),d=this._gestures.length,f=0;f<d;++f)if(this._gestures[f].id===b){a=this._gestures[f];break}return a};a.prototype.gestures=function(b){"undefined"===typeof b&&(b=null);if(b){for(var a=[],d=0;d<this.controller.frameHistory.length;++d){for(var f=0;f<this.controller.frameHistory[d]._gestures.length;++f)a.push(this.controller.frameHistory[d]._gestures[f]);if(b===this.controller.frameHistory[d])break}return a}return this._gestures};
a.prototype.rotationAxis=function(b){return b&&b.rotation?(new e(this.rotation.zBasis.y-b.rotation.yBasis.z,this.rotation.xBasis.z-b.rotation.zBasis.x,this.rotation.yBasis.x-b.rotation.xBasis.y)).normalized():new e(0,0,0)};a.prototype.rotationAngle=function(b,a){"undefined"===typeof a&&(a=null);if(!this.isValid()||!b.isValid())return 0;var d=0,d=this.rotationMatrix(b),d=Math.acos(0.5*(d.xBasis.x+d.yBasis.y+d.zBasis.z-1)),d=isNaN(d)?0:d;if(a)var f=this.rotationAxis(b),d=d*f.dot(a.normalized());return d};
a.prototype.rotationMatrix=function(b){return b&&b.rotation?b.rotation.multiply(new r(new e(this.rotation.xBasis.x,this.rotation.yBasis.x,this.rotation.zBasis.x),new e(this.rotation.xBasis.y,this.rotation.yBasis.y,this.rotation.zBasis.y),new e(this.rotation.xBasis.z,this.rotation.yBasis.z,this.rotation.zBasis.z))):r.identity()};a.prototype.scaleFactor=function(b){return b&&b.scaleFactorNumber?Math.exp(this.scaleFactorNumber-b.scaleFactorNumber):1};a.prototype.translation=function(b){return b.translationVector?
new e(this.translationVector.x-b.translationVector.x,this.translationVector.y-b.translationVector.y,this.translationVector.z-b.translationVector.z):new e(0,0,0)};a.prototype.isEqualTo=function(b){var a=!0;if(this.id!=b.id||!this.isValid()||b.isValid())a=!1;return a};a.prototype.isValid=function(){return!this.id?!1:!0};a.invalid=function(){return new a};return a}();k.Frame=v;var r=function(){function a(a,h,d,f){"undefined"===typeof f&&(f=null);this.origin=new e(0,0,0);this.xBasis=new e(0,0,0);this.yBasis=
new e(0,0,0);this.zBasis=new e(0,0,0);this.xBasis=a;this.yBasis=h;this.zBasis=d;f&&(this.origin=f)}a.prototype.setRotation=function(a,h){var d=a.normalized(),f=Math.sin(h),c=Math.cos(h),k=1-c;this.xBasis=new e(d.x*d.x*k+c,d.x*d.y*k-d.z*f,d.x*d.z*k+d.y*f);this.yBasis=new e(d.y*d.x*k+d.z*f,d.y*d.y*k+c,d.y*d.z*k-d.x*f);this.zBasis=new e(d.z*d.x*k-d.y*f,d.z*d.y*k+d.x*f,d.z*d.z*k+c)};a.prototype.transformPoint=function(a){return new e(this.xBasis.multiply(a.x).x,this.yBasis.multiply(a.y).y,this.zBasis.multiply(a.z).z+
this.origin.z)};a.prototype.transformDirection=function(a){var e=this.xBasis.multiply(a.x),d=this.yBasis.multiply(a.y);a=this.zBasis.multiply(a.z);return e.plus(d).plus(a)};a.prototype.rigidInverse=function(){var b=new a(new e(this.xBasis.x,this.yBasis.x,this.zBasis.x),new e(this.xBasis.y,this.yBasis.y,this.zBasis.y),new e(this.xBasis.z,this.yBasis.z,this.zBasis.z));this.origin&&(b.origin=b.transformDirection(this.origin.opposite()));return b};a.prototype.multiply=function(b){var e=this.transformDirection(b.xBasis),
d=this.transformDirection(b.yBasis),f=this.transformDirection(b.zBasis),c=this.origin;this.origin&&b.origin&&(c=this.transformPoint(b.origin));return new a(e,d,f,c)};a.prototype.multiplyAssign=function(a){this.xBasis=this.transformDirection(a.xBasis);this.yBasis=this.transformDirection(a.yBasis);this.zBasis=this.transformDirection(a.zBasis);this.origin=this.transformPoint(a.origin);return this};a.prototype.isEqualTo=function(a){return!this.xBasis.isEqualTo(a.xBasis)||!this.yBasis.isEqualTo(a.yBasis)||
!this.zBasis.isEqualTo(a.zBasis)||!this.origin.isEqualTo(a.origin)?!1:!0};a.identity=function(){var b=new e(1,0,0),h=new e(0,1,0),d=new e(0,0,1);return new a(b,h,d)};a.prototype.toString=function(){return"[Matrix xBasis:"+this.xBasis.toString()+" yBasis:"+this.yBasis.toString()+" zBasis:"+this.zBasis.toString()+" origin:"+this.origin.toString()+"]"};return a}();k.Matrix=r;var x=function(a){function b(){a.call(this);this.pointable=q.invalid()}__extends(b,a);b.classType=n.TYPE_CIRCLE;return b}(n);k.CircleGesture=
x;var B=function(a){function b(){a.call(this);this.progress=1}__extends(b,a);b.classType=n.TYPE_KEY_TAP;return b}(n);k.KeyTapGesture=B;var A=function(a){function b(){a.call(this);this.progress=1}__extends(b,a);b.classType=n.TYPE_SCREEN_TAP;return b}(n);k.ScreenTapGesture=A;var z=function(a){function b(){a.call(this)}__extends(b,a);b.classType=n.TYPE_SWIPE;return b}(n);k.SwipeGesture=z;var e=function(){function a(a,e,d){this.x=a;this.y=e;this.z=d}a.prototype.opposite=function(){return new a(-this.x,
-this.y,-this.z)};a.prototype.plus=function(b){return new a(this.x+b.x,this.y+b.y,this.z+b.z)};a.prototype.plusAssign=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};a.prototype.minus=function(b){return new a(this.x-b.x,this.y-b.y,this.z-b.z)};a.prototype.minusAssign=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};a.prototype.multiply=function(b){return new a(this.x*b,this.y*b,this.z*b)};a.prototype.multiplyAssign=function(a){this.x*=a;this.y*=a;this.z*=a;return this};a.prototype.divide=
function(b){return new a(this.x/b,this.y/b,this.z/b)};a.prototype.divideAssign=function(a){this.x/=a;this.y/=a;this.z/=a;return this};a.prototype.isEqualTo=function(a){return this.x!=a.x||this.y!=a.y||this.z!=a.z};a.prototype.angleTo=function(a){var e=this.magnitudeSquared()*a.magnitudeSquared();return 0>=e?0:Math.acos(this.dot(a)/Math.sqrt(e))};a.prototype.cross=function(b){return new a(this.y*b.z-this.z*b.y,this.z*b.x-this.x*b.z,this.x*b.y-this.y*b.x)};a.prototype.distanceTo=function(a){return Math.sqrt((this.x-
a.x)*(this.x-a.x)+(this.y-a.y)*(this.y-a.y)+(this.z-a.z)*(this.z-a.z))};a.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};a.prototype.isValid=function(){return this.x<=Number.MAX_VALUE&&this.x>=-Number.MAX_VALUE&&this.y<=Number.MAX_VALUE&&this.y>=-Number.MAX_VALUE&&this.z<=Number.MAX_VALUE&&this.z>=-Number.MAX_VALUE};a.invalid=function(){return new a(NaN,NaN,NaN)};a.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};a.prototype.magnitudeSquared=
function(){return this.x*this.x+this.y*this.y+this.z*this.z};a.prototype.normalized=function(){var b=this.magnitudeSquared();if(0>=b)return new a(0,0,0);b=1/Math.sqrt(b);return new a(this.x*b,this.y*b,this.z*b)};Object.defineProperty(a.prototype,"pitch",{get:function(){return Math.atan2(this.y,-this.z)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"yaw",{get:function(){return Math.atan2(this.x,-this.z)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"roll",
{get:function(){return Math.atan2(this.x,-this.y)},enumerable:!0,configurable:!0});a.zero=function(){return new a(0,0,0)};a.xAxis=function(){return new a(1,0,0)};a.yAxis=function(){return new a(0,1,0)};a.zAxis=function(){return new a(0,0,1)};a.left=function(){return new a(-1,0,0)};a.right=function(){return this.xAxis()};a.down=function(){return new a(0,-1,0)};a.up=function(){return this.yAxis()};a.forward=function(){return new a(0,0,-1)};a.backward=function(){return this.zAxis()};a.prototype.toString=
function(){return"[Vector3 x:"+this.x+" y:"+this.y+" z:"+this.z+"]"};return a}();k.Vector3=e});
